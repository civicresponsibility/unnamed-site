#!django_script
from itfsite.models import *
from contrib.models import *
from contrib.legislative import create_trigger_from_bill

# Create some triggers.
for bill in ("hconres1-114", "hr22-114", "s30-114"):
	try:
		t = create_trigger_from_bill(bill, 'h')
		t.status = TriggerStatus.Open
		t.save()
		print(t.get_absolute_url())
	except Exception as e:
		print(e)

# Create a triggercustomization.
org = Organization.objects.create(
	name="Test Organization",
	slug="test-organization",
	orgtype=OrganizationType.C4,
	description="This is a test organization.",
	description_format=0,
	)
for trigger in [Trigger.objects.last()]:
	tcust = TriggerCustomization.objects.create(
		owner=org,
		trigger=trigger,
		title="Customized-" + trigger.title,
		slug="customized-" + trigger.slug,
		visible=True,
		subhead="We think this bill should pass.",
		subhead_format=0,
		description="We think this bill should pass.",
		description_format=0,
		)
